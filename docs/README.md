# Q6の回答と解説

(なぜかQ5がないので）Q4までの内容を前提として、以下のようなステップで課題を解いています。

- `Toyota`クラスを追加し、コンストラクタ内で価格に比例した性能となるようなロジックを実装する
- 新たな概念としてレースを行うというのがでてきたので、レースをシミュレートする必要がある
  - レースに必要な概念として、以下のようなものがあるため、`Race`クラスを追加＆`Car`クラスを拡張していく
    - レース自体に必要なもの
      - レースの距離
      - レースの経過時間
      - レースの順位
      - 出場する車のリスト
    - 各車の状態
      - `run`メソッド
        - この1秒で何メートル進んだのか
      - アクセルを踏んでるのか、ブレーキを踏んでるのか
        - 現状`accelerate`も`brake`もなにも仕事をしていないので、メソッドの引き上げを行う
      - 現在の速度
        - 最高速度
        - ブレーキを踏むこともあるので、、加速度は一定でないため加速度と距離の公式は使わない
          - ブレーキの性能も必要
        - 1秒ごとにレースの状態を描画して、各車が何メートル進んでいるか表示する
      - 現在の位置(走行距離)
      - ゴールしているかどうか
    - その他
      - 時速を秒速に直す
  - テストでランダムの結果を返すものをモックする必要があるため、staticメソッドをモックするライブラリを追加してテストする

以上のステップで、クラス図、アクティビティ図は以下のとおりになっています。

## クラス図

![class-diagram](./class-diagram.png)

## アクティビティ図

![activity-diagram](./activity-diagram.png)


# Q3の回答と解説

Q2までの内容を前提として、以下のようなステップで課題を解いています。

- 3種類の自動車をそれぞれランダム数ごとに生成するために、ファクトリーメソッドパターンを使用して`Honda`, `Nissan`等のインスタンス生成を行うようにする
  - `CarFactory`インターフェースを用意して、それぞれの車種でインスタンス生成用のクラスを用意する
  - 抽象クラスとして`SuperCar`クラスを作るのはインスタンス生成後の処理上筋が悪いのでやめて、`Car`クラスのデフォルト実装として例外をスローすることにする
- 価格についてもランダムとあるので、`Nissan`が一番安く`Ferrari`が一番高い、という仕様を守った範囲で金額を返すようにする
  - 金額の仕様を守りつつやりたいので、値の範囲を決めて整数値を返すユーティリティとして`RandomValueGenerator`を作ってインスタンス生成時の価格決定に使用することにする
  - ランダム個の自動車インスタンスの生成にもこれを使用する
- 生成したすべての自動車の合計金額、および平均金額を求めるようにするため、`List<Car>`を受け取って合計値を返すユーティリティとして`CarPriceCalculator`を作ることにする
  - テストを書くときに、金額がランダムだとモックが必要なので、モックライブラリとして`Mockito`を導入する
- 実行時には最初に適当な数の自動車を生成して、すべての自動車の合計金額、および平均金額を表示する処理を追加する

以上のステップで、クラス図、アクティビティ図は以下のとおりになっています。

## クラス図

![class-diagram](./class-diagram.png)

## アクティビティ図

![activity-diagram](./activity-diagram.png)

